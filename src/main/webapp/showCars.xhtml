<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
    
    <f:view>    
    <h:head>
        <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
        <script language="javascript" src="js/editCar.js"></script>
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/ui-lightness/jquery-ui.css" type="text/css" media="all" />
    </h:head>
    <h:body>
        <ui:composition template = "index.xhtml">    
            <ui:define name = "content">
                <!--test-->
                <h:panelGroup  id="idEditCar" style="display:none">
                     
                    <h:form  prependId="false">

                        <ui:include src="addCar.xhtml" />
                        <h:commandButton id="updateCar" action="#{carManagedBean.updateCar()}">

                    </h:form>
                </h:panelGroup>
                
                <div>     
                    <h4>Wyświetl samochody</h4><br/><br/>

                    <h:dataTable styleClass="table table-striped" value="#{carManagedBean.cars}" var="car">           
                        
                        <h:column>                    
                            <f:facet name="header">Marka</f:facet>
                                #{car.brand}
                        </h:column>
                        <h:column>                    
                            <f:facet name="header">Model</f:facet>
                                #{car.model}
                        </h:column>
                        <h:column>                    
                            <f:facet name="header">Przebieg</f:facet>
                                #{car.milage}
                        </h:column>
                        <h:column>                    
                            <f:facet name="header">Rok produkcji</f:facet>
                                #{car.productionYear}
                        </h:column>
                        <h:column class="col-md-1">  
                            <h:form prependId="false">
                                <h:commandButton class="btn" value="Szczegóły" action="#{carManagedBean.viewCar(car)}"/>
                            </h:form>
                        </h:column>
                        <h:column class="col-md-1"> 
                            <h:form>
                                <h:commandButton class="btn btn-danger" value="Usuń" action="#{carManagedBean.deleteCar(car)}"/>
                            </h:form>
                        </h:column>                        
                    </h:dataTable>
                </div>          
            </ui:define>
        </ui:composition>
    </h:body>
        
    </f:view>
</html>

